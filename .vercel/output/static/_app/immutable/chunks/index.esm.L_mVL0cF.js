const L="none";function l(i,t,o){return i.addEventListener(t,o),()=>i.removeEventListener(t,o)}function w(i,t){return t.filter(o=>i.pointerId!==o.pointerId)}function A(i,t,o,c,r){i.dispatchEvent(new CustomEvent(`${t}${r}`,{detail:{event:o,pointersCount:c.length,target:o.target}}))}function T(i,t,o,c,r,v=L){t.style.touchAction=v;let e=[];function a(p){e.push(p),A(t,i,p,e,"down"),c==null||c(e,p);const m=p.pointerId;function s(n){m===n.pointerId&&(e=w(n,e),e.length||f(),A(t,i,n,e,"up"),r==null||r(e,n))}function f(){I(),E(),d(),u()}const I=l(t,"pointermove",n=>{e=e.map(D=>n.pointerId===D.pointerId?n:D),A(t,i,n,e,"move")}),E=l(t,"lostpointercapture",n=>{s(n)}),d=l(t,"pointerup",n=>{s(n)}),u=l(t,"pointerleave",n=>{e=[],f(),A(t,i,n,e,"up"),r==null||r(e,n)})}const h=l(t,"pointerdown",a);return{destroy:()=>{h()}}}function _(i,t){const o={timeframe:300,minSwipeDistance:60,touchAction:L,composed:!1,...t},c="swipe";let r,v,e,a;function h(m,s){v=s.clientX,e=s.clientY,r=Date.now(),m.length===1&&(a=s.target)}function p(m,s){if(s.type==="pointerup"&&m.length===0&&Date.now()-r<o.timeframe){const f=s.clientX-v,I=s.clientY-e,E=Math.abs(f),d=Math.abs(I);let u=null;E>=2*d&&E>o.minSwipeDistance?u=f>0?"right":"left":d>=2*E&&d>o.minSwipeDistance&&(u=I>0?"bottom":"top"),u&&i.dispatchEvent(new CustomEvent(c,{detail:{direction:u,target:a}}))}}return o.composed?{onMove:null,onDown:h,onUp:p}:T(c,i,null,h,p,o.touchAction)}export{_ as s};
